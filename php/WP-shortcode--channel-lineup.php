<?phpfunction channel_table($args = []){    // set defaults    extract(shortcode_atts([        'location' => ''    ], $args    ));    $args = [        'post_type' => 'channel',        'posts_per_page' => -1    ];    $channel_query = new WP_Query($args);    $channelInPackage = '<i class="fb-icon-element-72-1 fb-icon-element fontawesome-icon fa-check fas circle-no fusion-text-flow" style="font-size:12px;margin-right:6px;color:#8bc34a;"></i>';    $channelNotInPackage = '<i class="fb-icon-element-72-4 fb-icon-element fontawesome-icon fa-times fas circle-no fusion-text-flow" style="font-size:12px;margin-right:6px;color:#e91e63;"></i>';    $output = '<div class="table-2">';    $output .= '<table width="100%"  class="tablesorter {sortlist: [[1,0]]}" id="lineup-table-' . $location . '">';    $output .= '<thead>';    $output .= '<tr>';    $output .= '<th style="text-align: left;" align="left">Station</th>';    $output .= '<th style="text-align: left;" align="left">Channel #</th>';    $output .= '<th style="text-align: center;" align="left">Basic</th>';    $output .= '<th style="text-align: center;" align="left">Choice</th>';    $output .= '<th style="text-align: center;" align="left">Ultimate</th>';    $output .= '<th style="text-align: center;" align="left">Premium</th>';    $output .= '<th style="text-align: center;" align="left">HD Addon</th>';    $output .= '<th style="text-align: center;" align="left">Music</th>';    $output .= '</tr>';    $output .= '</thead>';    $output .= '<tbody>';    if ($channel_query->have_posts()) {        while ($channel_query->have_posts()) {            $channel_query->the_post();            if( function_exists('get_field')) {            $cities = get_field('location') !== null ? get_field('location') : array("");            if (in_array($location, $cities)) {                if( function_exists('get_field')) {                    $package = get_field('package');                } else {                    $package = '';                }                $output .= '<tr>';                $output .= '<td align="left">' . get_field('station') . '</td>';                $output .= '<td align="left">' . get_field('channel_number') . '</td>';                if (in_array('basic', $package)) {                    $output .= '<td style="text-align: center;" align="middle"><span class="hide">basic</span>' . $channelInPackage . '</td>';                } else {                    $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                }                if (in_array('choice', $package)) {                    $output .= '<td style="text-align: center;" align="middle"><span class="hide">choice</span>' . $channelInPackage . '</td>';                } else {                    $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                }                if (in_array('ultimate', $package)) {                    $output .= '<td style="text-align: center;" align="middle"><span class="hide">ultimate</span>' . $channelInPackage . '</td>';                } else {                    $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                }                if (in_array('premium', $package)) {                    $output .= '<td style="text-align: center;" align="middle"><span class="hide">premium</span>' . $channelInPackage . '</td>';                } else {                    $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                }                $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                if (in_array('music', $package)) {                    $output .= '<td style="text-align: center;" align="middle"><span class="hide">music</span>' . $channelInPackage . '</td>';                } else {                    $output .= '<td style="text-align: center;" align="middle">&nbsp;</td>';                }                $output .= '</tr>';            }        } else {                $output .= '<tr>';                $output .= '<td>There was an error retrieving your location information.</td>';                $output .= '</tr>';            }        }    }    $output .= '</tbody>';    $output .= '</table>';    $output .= '</div>';    wp_reset_query();    return $output;}add_shortcode('channels', 'channel_table');